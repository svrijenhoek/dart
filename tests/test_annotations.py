"""
Testing the outcome of annotations
"""

from dart.handler.NLP.annotator import Annotator

TEXT_1 = """"""

TEXT_2 = """Dit is een dummy"""

# https://www.nu.nl/economie/5798559/may-sluit-nieuwe-brexit-stemming-niet-uit-ondanks-oordeel-voorzitter.html
TEXT_3 = """
De Britse overheid wil volgende week mogelijk alsnog voor een derde keer de Brexit-deal tot stemming laten brengen. Maandag oordeelde de voorzitter van het Britse Lagerhuis dat een nieuwe stemming alleen mag plaatsvinden als er iets wezenlijks verandert aan het voorstel.

Barclay suggereert dat de Britse regering "een manier" zal vinden om het voorstel toch in stemming te laten brengen. In de Britse politiek bepaalt de voorzitter van het parlement over welke voorstellen en moties wordt gestemd.

Brexit-minister Stephen Barclay zegt tegen de BBC dat het belangrijk is om de "scheidsrechter te respecteren", maar wijst erop dat voorzitter John Bercow zelf ook eerder heeft gezegd dat precedenten niet altijd leidend hoeven zijn.

Bercow haalde maandag een oordeel uit de zeventiende eeuw aan om een eventuele nieuwe stemming over dezelfde Brexit-deal bij voorbaat al af te schieten.

Brexit-procedure zit muurvast
Het terugtredingsakkoord waarover twee jaar is onderhandeld, kwam eerder niet door het Britse parlement. Een eerste stemming in december werd uitgesteld tot januari, omdat premier May zag dat er geen meerderheid voor was.

In januari werd de deal weggestemd met 230 stemmen; het grootste verlies voor een regering in de Britse geschiedenis. Deze maand werd het akkoord weer weggestemd. Het akkoord werd toen wel in stemming gebracht, omdat er enkele aanpassingen waren doorgevoerd na overleg met de Europese Unie.
"""

# https://www.geenstijl.nl/5146792/ex-nederlandse-jihadist-hatim-rodgers-geeft-zich-in-oost-syrie-over-aan-koerdische-strijders/
TEXT_4 = """
Hoop gedoe over Hatim Rodgers aka Abou Hatim La Haye, de Marokkaans-Nederlandse Syriëganger van wie Stef Blok zijn paspoort heeft afgepakt en die daardoor nu eigenlijk een Marokkaans-Marokkaanse Syriëganger is geworden. Aan Harold Doornbos vertelt Rodgers dat hij zich heeft overgegeven aan de Koerdische SDF en dat hij nu in de buurt van Baghouz, Oost-Syrië, aan het wachten is om gevangen genomen te worden met een busje. Hij heeft Doornbos een selfie gestuurd. Dat deed Rodgers ook aan RTL-journo Olaf Koens, maar dan gespiegeld, en aan Koens heeft hij verteld dat hij zich juist niet heeft overgegeven. Zijn dagen als strijder voor het kalifaat lijken in ieder geval geteld. Doornbosdraad na de breek.
"""

# https://www.volkskrant.nl/wetenschap/verre-sneeuwpop-beter-in-kaart-gebracht~b1fe8a31/
TEXT_5 = """
Op 6,6 miljard kilometer van de aarde in de buitenwijken van ons zonnestelsel buitelt een ‘sneeuwpop’ door de ruimte. Het gaat om ijsdwerg Ultima Thule, de verre ruimterots die door sonde New Horizons op nieuwjaarsdag van dichtbij werd bekeken.

Ruimterotsen zoals Ultima Thule zitten al miljarden jaren gevangen in de zogeheten Kuipergordel, de plek waar ook dwergplaneten als Pluto hun baantjes om de zon draaien. Ze ontstonden als bijvangst van de processen die in het jonge zonnestelsel leidden tot de vorming van planeten zoals de Aarde. Astronomen hopen daarom dat ze, door deze voorwerpen te bestuderen, meer kunnen leren over de verre geschiedenis van onze planeet. 

Op een persconferentie op de Lunar and Planetary Science Conference in de Amerikaanse staat Texas presenteerden aan de New Horizons-missie verbonden wetenschappers resultaten die aantonen dat het voorwerp nog wat vreemder is dan al gedacht. 

Twee poffertjes
Ultima Thule was al niet je doorsnee ruimterots. De passage van sonde New Horizons (die een paar duizend kilometer boven het oppervlak van de ijsdwerg passeerde) had al aangetoond dat de ruimterots helemaal geen gewone sneeuwpop was. Dat wil zeggen: eentje die bestaat uit twee keurige bollen die op elkaar liggen. In plaats daarvan heeft Ultima Thule nog het meest weg van twee aan elkaar gekleefde reusachtige poffertjes: een grote, platte (bijnaam Ultima) en een kleine, iets dikkere (bijnaam Thule).

Maandag lieten onderzoekers weten dat ze op het oppervlak van het grootste poffertje ook weer lijnen ontdekt hebben, die suggereren dat deze is ontstaan toen kleinere stukken kosmisch deeg samenklonterden. Dat is verrassend, omdat astronomen vermoeden dat (dwerg-)planeten normaal gesproken langzaam groter groeien, als een soort rollende sneeuwbal. Ultima Thule lijkt echter in relatief korte tijd te zijn ontstaan uit grofweg even grote stukken.

De onderzoekers onthulden verder dat het oppervlak van de twee kosmische poffertjes roodgekleurd is door de aanwezigheid van organische verbindingen. Ook bevat het oppervlak vermoedelijk waterijs. 

Tot slot stonden de onderzoekers stil bij de vermoedelijke ontstaansgeschiedenis van de ijsdwerg. Uit hun analyse bleek dat Ultima en Thule ooit in een trage kosmische dans verwikkeld waren. Toen ze definitief samensmolten, raakten ze elkaar met slechts twee à drie meter per seconde. ‘Ongeveer net zo hard als wanneer je tegen een muur aanloopt’, zei teamlid Bill McKinnon tijdens de persconferentie. 
"""

annotator = Annotator()
doc1, ent1, tags1 = annotator.annotate(TEXT_1)
doc2, ent2, tags2 = annotator.annotate(TEXT_2)
doc3, ent3, tags3 = annotator.annotate(TEXT_3)


def test_entities():
    assert ent1 == []
    assert ent2 == []
    assert ent3 == [{'text': '\n', 'start_char': 0, 'end_char': 1, 'label': 'PER'}, {'text': 'Britse', 'start_char': 4, 'end_char': 10, 'label': 'MISC'}, {'text': 'Brexit', 'start_char': 77, 'end_char': 83, 'label': 'PER'}, {'text': 'Britse', 'start_char': 157, 'end_char': 163, 'label': 'MISC'}, {'text': 'Lagerhuis', 'start_char': 164, 'end_char': 173, 'label': 'ORG'}, {'text': '\n\nBarclay', 'start_char': 272, 'end_char': 281, 'label': 'MISC'}, {'text': 'Britse', 'start_char': 300, 'end_char': 306, 'label': 'MISC'}, {'text': 'Britse', 'start_char': 397, 'end_char': 403, 'label': 'MISC'}, {'text': '\n\nBrexit', 'start_char': 500, 'end_char': 508, 'label': 'PER'}, {'text': 'Stephen Barclay', 'start_char': 518, 'end_char': 533, 'label': 'PER'}, {'text': 'BBC', 'start_char': 548, 'end_char': 551, 'label': 'ORG'}, {'text': 'John Bercow', 'start_char': 644, 'end_char': 655, 'label': 'PER'}, {'text': '\n\nBercow', 'start_char': 733, 'end_char': 741, 'label': 'PER'}, {'text': 'Brexit', 'start_char': 844, 'end_char': 850, 'label': 'PER'}, {'text': '\n\nBrexit', 'start_char': 887, 'end_char': 895, 'label': 'PER'}, {'text': '\n', 'start_char': 918, 'end_char': 919, 'label': 'PER'}, {'text': 'Britse', 'start_char': 1006, 'end_char': 1012, 'label': 'MISC'}, {'text': 'premier May', 'start_char': 1091, 'end_char': 1102, 'label': 'PER'}, {'text': '\n\n', 'start_char': 1140, 'end_char': 1142, 'label': 'PER'}, {'text': 'Britse', 'start_char': 1239, 'end_char': 1245, 'label': 'MISC'}, {'text': 'Europese Unie', 'start_char': 1418, 'end_char': 1431, 'label': 'ORG'}, {'text': '\n', 'start_char': 1432, 'end_char': 1433, 'label': 'PER'}]


def test_tags():
    assert tags1 == []
    assert tags2 == [{'text': 'Dit', 'tag': 'PRON'}, {'text': 'is', 'tag': 'VERB'}, {'text': 'een', 'tag': 'DET'}, {'text': 'dummy', 'tag': 'X'}]
    assert tags3 == [{'text': '\n', 'tag': 'SPACE'}, {'text': 'De', 'tag': 'DET'}, {'text': 'Britse', 'tag': 'ADJ'}, {'text': 'overheid', 'tag': 'NOUN'}, {'text': 'wil', 'tag': 'VERB'}, {'text': 'volgende', 'tag': 'VERB'}, {'text': 'week', 'tag': 'NOUN'}, {'text': 'mogelijk', 'tag': 'ADJ'}, {'text': 'alsnog', 'tag': 'ADV'}, {'text': 'voor', 'tag': 'ADP'}, {'text': 'een', 'tag': 'DET'}, {'text': 'derde', 'tag': 'NUM'}, {'text': 'keer', 'tag': 'NOUN'}, {'text': 'de', 'tag': 'DET'}, {'text': 'Brexit', 'tag': 'NOUN'}, {'text': '-', 'tag': 'PUNCT'}, {'text': 'deal', 'tag': 'NOUN'}, {'text': 'tot', 'tag': 'ADP'}, {'text': 'stemming', 'tag': 'NOUN'}, {'text': 'laten', 'tag': 'VERB'}, {'text': 'brengen', 'tag': 'VERB'}, {'text': '.', 'tag': 'PUNCT'}, {'text': 'Maandag', 'tag': 'NOUN'}, {'text': 'oordeelde', 'tag': 'VERB'}, {'text': 'de', 'tag': 'DET'}, {'text': 'voorzitter', 'tag': 'NOUN'}, {'text': 'van', 'tag': 'ADP'}, {'text': 'het', 'tag': 'DET'}, {'text': 'Britse', 'tag': 'ADJ'}, {'text': 'Lagerhuis', 'tag': 'NOUN'}, {'text': 'dat', 'tag': 'CONJ'}, {'text': 'een', 'tag': 'DET'}, {'text': 'nieuwe', 'tag': 'ADJ'}, {'text': 'stemming', 'tag': 'NOUN'}, {'text': 'alleen', 'tag': 'ADV'}, {'text': 'mag', 'tag': 'VERB'}, {'text': 'plaatsvinden', 'tag': 'VERB'}, {'text': 'als', 'tag': 'CONJ'}, {'text': 'er', 'tag': 'ADV'}, {'text': 'iets', 'tag': 'PRON'}, {'text': 'wezenlijks', 'tag': 'ADJ'}, {'text': 'verandert', 'tag': 'VERB'}, {'text': 'aan', 'tag': 'ADP'}, {'text': 'het', 'tag': 'DET'}, {'text': 'voorstel', 'tag': 'NOUN'}, {'text': '.', 'tag': 'PUNCT'}, {'text': '\n\n', 'tag': 'SPACE'}, {'text': 'Barclay', 'tag': 'NOUN'}, {'text': 'suggereert', 'tag': 'VERB'}, {'text': 'dat', 'tag': 'CONJ'}, {'text': 'de', 'tag': 'DET'}, {'text': 'Britse', 'tag': 'ADJ'}, {'text': 'regering', 'tag': 'NOUN'}, {'text': '"', 'tag': 'PUNCT'}, {'text': 'een', 'tag': 'DET'}, {'text': 'manier', 'tag': 'NOUN'}, {'text': '"', 'tag': 'PUNCT'}, {'text': 'zal', 'tag': 'VERB'}, {'text': 'vinden', 'tag': 'VERB'}, {'text': 'om', 'tag': 'CONJ'}, {'text': 'het', 'tag': 'DET'}, {'text': 'voorstel', 'tag': 'NOUN'}, {'text': 'toch', 'tag': 'ADV'}, {'text': 'in', 'tag': 'ADP'}, {'text': 'stemming', 'tag': 'NOUN'}, {'text': 'te', 'tag': 'ADP'}, {'text': 'laten', 'tag': 'VERB'}, {'text': 'brengen', 'tag': 'VERB'}, {'text': '.', 'tag': 'PUNCT'}, {'text': 'In', 'tag': 'ADP'}, {'text': 'de', 'tag': 'DET'}, {'text': 'Britse', 'tag': 'ADJ'}, {'text': 'politiek', 'tag': 'NOUN'}, {'text': 'bepaalt', 'tag': 'VERB'}, {'text': 'de', 'tag': 'DET'}, {'text': 'voorzitter', 'tag': 'NOUN'}, {'text': 'van', 'tag': 'ADP'}, {'text': 'het', 'tag': 'DET'}, {'text': 'parlement', 'tag': 'NOUN'}, {'text': 'over', 'tag': 'ADP'}, {'text': 'welke', 'tag': 'PRON'}, {'text': 'voorstellen', 'tag': 'NOUN'}, {'text': 'en', 'tag': 'CONJ'}, {'text': 'moties', 'tag': 'NOUN'}, {'text': 'wordt', 'tag': 'VERB'}, {'text': 'gestemd', 'tag': 'VERB'}, {'text': '.', 'tag': 'PUNCT'}, {'text': '\n\n', 'tag': 'SPACE'}, {'text': 'Brexit', 'tag': 'PROPN'}, {'text': '-', 'tag': 'PUNCT'}, {'text': 'minister', 'tag': 'NOUN'}, {'text': 'Stephen', 'tag': 'NOUN'}, {'text': 'Barclay', 'tag': 'PROPN'}, {'text': 'zegt', 'tag': 'VERB'}, {'text': 'tegen', 'tag': 'ADP'}, {'text': 'de', 'tag': 'DET'}, {'text': 'BBC', 'tag': 'NOUN'}, {'text': 'dat', 'tag': 'CONJ'}, {'text': 'het', 'tag': 'PRON'}, {'text': 'belangrijk', 'tag': 'ADJ'}, {'text': 'is', 'tag': 'VERB'}, {'text': 'om', 'tag': 'CONJ'}, {'text': 'de', 'tag': 'DET'}, {'text': '"', 'tag': 'PUNCT'}, {'text': 'scheidsrechter', 'tag': 'NOUN'}, {'text': 'te', 'tag': 'ADP'}, {'text': 'respecteren', 'tag': 'VERB'}, {'text': '"', 'tag': 'PUNCT'}, {'text': ',', 'tag': 'PUNCT'}, {'text': 'maar', 'tag': 'CONJ'}, {'text': 'wijst', 'tag': 'VERB'}, {'text': 'erop', 'tag': 'ADV'}, {'text': 'dat', 'tag': 'CONJ'}, {'text': 'voorzitter', 'tag': 'NOUN'}, {'text': 'John', 'tag': 'NOUN'}, {'text': 'Bercow', 'tag': 'PROPN'}, {'text': 'zelf', 'tag': 'PRON'}, {'text': 'ook', 'tag': 'ADV'}, {'text': 'eerder', 'tag': 'ADJ'}, {'text': 'heeft', 'tag': 'VERB'}, {'text': 'gezegd', 'tag': 'VERB'}, {'text': 'dat', 'tag': 'CONJ'}, {'text': 'precedenten', 'tag': 'NOUN'}, {'text': 'niet', 'tag': 'ADV'}, {'text': 'altijd', 'tag': 'ADV'}, {'text': 'leidend', 'tag': 'ADV'}, {'text': 'hoeven', 'tag': 'VERB'}, {'text': 'zijn', 'tag': 'VERB'}, {'text': '.', 'tag': 'PUNCT'}, {'text': '\n\n', 'tag': 'SPACE'}, {'text': 'Bercow', 'tag': 'NOUN'}, {'text': 'haalde', 'tag': 'VERB'}, {'text': 'maandag', 'tag': 'NOUN'}, {'text': 'een', 'tag': 'DET'}, {'text': 'oordeel', 'tag': 'NOUN'}, {'text': 'uit', 'tag': 'ADP'}, {'text': 'de', 'tag': 'DET'}, {'text': 'zeventiende', 'tag': 'NUM'}, {'text': 'eeuw', 'tag': 'NOUN'}, {'text': 'aan', 'tag': 'ADV'}, {'text': 'om', 'tag': 'CONJ'}, {'text': 'een', 'tag': 'DET'}, {'text': 'eventuele', 'tag': 'ADJ'}, {'text': 'nieuwe', 'tag': 'ADJ'}, {'text': 'stemming', 'tag': 'NOUN'}, {'text': 'over', 'tag': 'ADP'}, {'text': 'dezelfde', 'tag': 'PRON'}, {'text': 'Brexit', 'tag': 'NOUN'}, {'text': '-', 'tag': 'PUNCT'}, {'text': 'deal', 'tag': 'NOUN'}, {'text': 'bij', 'tag': 'ADP'}, {'text': 'voorbaat', 'tag': 'X'}, {'text': 'al', 'tag': 'ADV'}, {'text': 'af', 'tag': 'ADV'}, {'text': 'te', 'tag': 'ADP'}, {'text': 'schieten', 'tag': 'VERB'}, {'text': '.', 'tag': 'PUNCT'}, {'text': '\n\n', 'tag': 'SPACE'}, {'text': 'Brexit', 'tag': 'PROPN'}, {'text': '-', 'tag': 'PUNCT'}, {'text': 'procedure', 'tag': 'NOUN'}, {'text': 'zit', 'tag': 'VERB'}, {'text': 'muurvast', 'tag': 'ADJ'}, {'text': '\n', 'tag': 'SPACE'}, {'text': 'Het', 'tag': 'DET'}, {'text': 'terugtredingsakkoord', 'tag': 'NOUN'}, {'text': 'waarover', 'tag': 'ADV'}, {'text': 'twee', 'tag': 'NUM'}, {'text': 'jaar', 'tag': 'NOUN'}, {'text': 'is', 'tag': 'VERB'}, {'text': 'onderhandeld', 'tag': 'VERB'}, {'text': ',', 'tag': 'PUNCT'}, {'text': 'kwam', 'tag': 'VERB'}, {'text': 'eerder', 'tag': 'ADJ'}, {'text': 'niet', 'tag': 'ADV'}, {'text': 'door', 'tag': 'ADP'}, {'text': 'het', 'tag': 'DET'}, {'text': 'Britse', 'tag': 'ADJ'}, {'text': 'parlement', 'tag': 'NOUN'}, {'text': '.', 'tag': 'PUNCT'}, {'text': 'Een', 'tag': 'DET'}, {'text': 'eerste', 'tag': 'NUM'}, {'text': 'stemming', 'tag': 'NOUN'}, {'text': 'in', 'tag': 'ADP'}, {'text': 'december', 'tag': 'NOUN'}, {'text': 'werd', 'tag': 'VERB'}, {'text': 'uitgesteld', 'tag': 'VERB'}, {'text': 'tot', 'tag': 'ADP'}, {'text': 'januari', 'tag': 'NOUN'}, {'text': ',', 'tag': 'PUNCT'}, {'text': 'omdat', 'tag': 'CONJ'}, {'text': 'premier', 'tag': 'NOUN'}, {'text': 'May', 'tag': 'NOUN'}, {'text': 'zag', 'tag': 'VERB'}, {'text': 'dat', 'tag': 'CONJ'}, {'text': 'er', 'tag': 'ADV'}, {'text': 'geen', 'tag': 'PRON'}, {'text': 'meerderheid', 'tag': 'NOUN'}, {'text': 'voor', 'tag': 'ADV'}, {'text': 'was', 'tag': 'VERB'}, {'text': '.', 'tag': 'PUNCT'}, {'text': '\n\n', 'tag': 'SPACE'}, {'text': 'In', 'tag': 'ADP'}, {'text': 'januari', 'tag': 'NOUN'}, {'text': 'werd', 'tag': 'VERB'}, {'text': 'de', 'tag': 'DET'}, {'text': 'deal', 'tag': 'NOUN'}, {'text': 'weggestemd', 'tag': 'VERB'}, {'text': 'met', 'tag': 'ADP'}, {'text': '230', 'tag': 'NUM'}, {'text': 'stemmen', 'tag': 'NOUN'}, {'text': ';', 'tag': 'PUNCT'}, {'text': 'het', 'tag': 'DET'}, {'text': 'grootste', 'tag': 'ADJ'}, {'text': 'verlies', 'tag': 'NOUN'}, {'text': 'voor', 'tag': 'ADP'}, {'text': 'een', 'tag': 'DET'}, {'text': 'regering', 'tag': 'NOUN'}, {'text': 'in', 'tag': 'ADP'}, {'text': 'de', 'tag': 'DET'}, {'text': 'Britse', 'tag': 'ADJ'}, {'text': 'geschiedenis', 'tag': 'NOUN'}, {'text': '.', 'tag': 'PUNCT'}, {'text': 'Deze', 'tag': 'PRON'}, {'text': 'maand', 'tag': 'NOUN'}, {'text': 'werd', 'tag': 'VERB'}, {'text': 'het', 'tag': 'DET'}, {'text': 'akkoord', 'tag': 'NOUN'}, {'text': 'weer', 'tag': 'ADV'}, {'text': 'weggestemd', 'tag': 'VERB'}, {'text': '.', 'tag': 'PUNCT'}, {'text': 'Het', 'tag': 'DET'}, {'text': 'akkoord', 'tag': 'NOUN'}, {'text': 'werd', 'tag': 'VERB'}, {'text': 'toen', 'tag': 'ADV'}, {'text': 'wel', 'tag': 'ADV'}, {'text': 'in', 'tag': 'ADP'}, {'text': 'stemming', 'tag': 'NOUN'}, {'text': 'gebracht', 'tag': 'VERB'}, {'text': ',', 'tag': 'PUNCT'}, {'text': 'omdat', 'tag': 'CONJ'}, {'text': 'er', 'tag': 'ADV'}, {'text': 'enkele', 'tag': 'PRON'}, {'text': 'aanpassingen', 'tag': 'NOUN'}, {'text': 'waren', 'tag': 'VERB'}, {'text': 'doorgevoerd', 'tag': 'VERB'}, {'text': 'na', 'tag': 'ADP'}, {'text': 'overleg', 'tag': 'NOUN'}, {'text': 'met', 'tag': 'ADP'}, {'text': 'de', 'tag': 'DET'}, {'text': 'Europese', 'tag': 'NOUN'}, {'text': 'Unie', 'tag': 'PROPN'}, {'text': '.', 'tag': 'PUNCT'}, {'text': '\n', 'tag': 'SPACE'}]
